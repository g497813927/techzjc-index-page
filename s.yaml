edition: 3.0.0
name: Alibaba Cloud FC Deployment for Index Site
access: default_serverless_devs_key
resources:
  index-site:
    component: fc3
    props:
      functionName: ${env('FC_NAME')}
      runtime: "custom-container"
      region: ${env('REGION')}
      customContainerConfig:
        image: ${env('IMAGE_FULL')}
      timeout: 10
      environmentVariables:
        CDN_ORIGIN_AUTH: ${env('CDN_ORIGIN_AUTH')}
        IN_FC: "true"
      logConfig:
        enableRequestMetrics: true
        enableInstanceMetrics: true
        logBeginRule: DefaultRegex
        project: serverless-cn-hangzhou-a6227e44-9a74-5df6-a2d3-a391b1cc61ec
        enableCustomExtraLog: true
        logstore: default-logs
      internetAccess: false
      triggers:
        - triggerConfig:
            methods:
              - GET
              - POST
              - PUT
              - DELETE
            authType: function
            disableURLInternet: true
          triggerName: httpTrigger
          description: ''
          qualifier: LATEST
          triggerType: http
